<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Consight - Student Insight (Responsive)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Kanit', sans-serif;
      /* Theme: Dark Purple Atmosphere */
      background: radial-gradient(circle at top left, #0f172a, #020617);
      background-attachment: fixed;
      color: #e2e8f0;
      min-height: 100vh;
      overflow-x: hidden;
    }
    /* Glassmorphism Card Style */
    .glass-card {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 1.5rem;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
    }
    /* Input Field Style in Dark Mode */
    .dark-input {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(139, 92, 246, 0.3);
      color: white;
      transition: all 0.3s ease;
    }
    .dark-input:focus {
      border-color: #8b5cf6; /* Violet-500 */
      outline: none;
      box-shadow: 0 0 15px rgba(139, 92, 246, 0.2);
    }
    /* Mic Button Animation - Responsive Size */
    .mic-btn {
      width: clamp(120px, 25vw, 180px); /* à¸›à¸£à¸±à¸šà¸‚à¸™à¸²à¸”à¹ƒà¸«à¹‰à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™ */
      height: clamp(120px, 25vw, 180px);
      border-radius: 50%;
      background: linear-gradient(135deg, #6366F1, #d946ef);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 0 30px rgba(99, 102, 241, 0.4);
      position: relative;
      transition: transform 0.2s;
      flex-shrink: 0; /* à¸›à¹‰à¸­à¸‡à¸ à¸±à¸™à¸›à¸¸à¹ˆà¸¡à¸šà¸µà¹‰ */
    }
    .mic-btn:active { transform: scale(0.95); }
    .mic-btn.recording { box-shadow: 0 0 50px rgba(239, 68, 68, 0.6); background: linear-gradient(135deg, #ef4444, #f97316); }
    .mic-btn i { font-size: clamp(2.5rem, 5vw, 3.5rem); color: white; z-index: 10; }
    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.3); border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(139, 92, 246, 0.6); }
    /* Report Box Styles */
    .report-box {
      border: 1px solid rgba(139, 92, 246, 0.4);
      background: rgba(139, 92, 246, 0.05);
      border-radius: 1rem;
      padding: 1rem;
      margin-bottom: 1rem;
    }
    .report-label {
      font-size: 0.85rem;
      font-weight: 600;
      color: #a78bfa; /* Violet-400 */
      margin-bottom: 0.5rem;
      display: block;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
  </style>
</head>
<body class="flex flex-col items-center justify-center p-4 lg:p-6 min-h-screen">
  <div id="loginPage" class="w-full max-w-md glass-card p-6 md:p-8 flex flex-col items-center gap-6 animate-fade-in my-auto">
    <div class="w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-violet-600 to-fuchsia-600 flex items-center justify-center shadow-lg shadow-violet-500/30 mb-2">
      <i class="fa-solid fa-graduation-cap text-3xl md:text-4xl text-white"></i>
    </div>
    <div class="text-center">
      <h2 class="text-2xl font-bold text-white">à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™</h2>
      <p class="text-slate-400 text-sm">à¸ à¸£à¸­à¸ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸žà¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™</p>
    </div>
    <form id="loginForm" class="w-full space-y-4">
      <div>
        <label class="text-xs text-slate-400 ml-2">à¸Šà¸·à¹ˆà¸­ - à¸™à¸²à¸¡à¸ªà¸ à¸¸à¸¥</label>
        <input type="text" id="inputName" required class="w-full p-3 rounded-xl dark-input" placeholder="à¹€à¸Šà¹ˆà¸™ à¸™à¸²à¸¢à¹„à¸šà¸£à¸—à¹Œ à¸ à¸¤à¸•à¸ à¸²à¸ª">
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
           <label class="text-xs text-slate-400 ml-2">à¸£à¸°à¸”à¸±à¸šà¸Šà¸±à¹‰à¸™</label>
           <select id="inputClass" required class="w-full p-3 rounded-xl dark-input appearance-none">
             <option value="" class="text-black">à¹€à¸¥à¸·à¸­à¸ à¸Šà¸±à¹‰à¸™</option>
             <option value="à¸¡.1" class="text-black">à¸¡.1</option>
             <option value="à¸¡.2" class="text-black">à¸¡.2</option>
             <option value="à¸¡.3" class="text-black">à¸¡.3</option>
             <option value="à¸¡.4" class="text-black">à¸¡.4</option>
             <option value="à¸¡.5" class="text-black">à¸¡.5</option>
             <option value="à¸¡.6" class="text-black">à¸¡.6</option>
           </select>
        </div>
        <div>
           <label class="text-xs text-slate-400 ml-2">à¸£à¸«à¸±à¸ªà¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§</label>
           <input type="number" id="inputID" required class="w-full p-3 rounded-xl dark-input" placeholder="xxxxx">
        </div>
      </div>
      <div class="flex items-start gap-3 pt-2">
        <div class="flex items-center h-5">
          <input id="consentCheck" type="checkbox" required class="w-5 h-5 border border-slate-500 rounded bg-slate-800 focus:ring-3 focus:ring-violet-300">
        </div>
        <label for="consentCheck" class="text-sm font-medium text-slate-300 leading-tight">
          à¸¢à¸­à¸¡à¸£à¸±à¸š <a href="#" class="text-violet-400 underline">à¸™à¹‚à¸¢à¸šà¸²à¸¢à¸„à¸§à¸²à¸¡à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§</a>
        </label>
      </div>
      <button type="submit" class="w-full py-3.5 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl text-white font-bold text-lg shadow-lg hover:brightness-110 transition-all active:scale-95 mt-4">
        à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
      </button>
    </form>
  </div>
  <div id="dashboardPage" class="hidden w-full max-w-7xl grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 h-auto lg:h-[90vh] pb-10 lg:pb-0">
    <div class="order-1 lg:col-span-5 glass-card p-6 flex flex-col items-center relative overflow-hidden shrink-0">
      <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-violet-500/5 to-transparent pointer-events-none"></div>
      <div class="w-full flex justify-between items-center mb-6 z-10">
        <div class="flex items-center gap-2">
          <div class="w-1.5 h-6 bg-fuchsia-500 rounded-full"></div>
          <h2 class="text-lg font-bold">à¸šà¸±à¸™à¸—à¸¶à¸ à¹€à¸ªà¸µà¸¢à¸‡</h2>
        </div>
        <div class="text-[10px] md:text-xs font-mono text-slate-400 bg-slate-800/50 px-3 py-1 rounded-full">AI Mode</div>
      </div>
      <div class="w-full flex-1 flex flex-col justify-center items-center gap-4 z-10">
        <div class="py-4">
            <button id="micBtn" class="mic-btn">
            <i class="fa-solid fa-microphone"></i>
            <span class="absolute inset-0 rounded-full border-2 border-white/30 animate-ping opacity-75 hidden" id="pulseRing"></span>
            </button>
        </div>
        <div class="text-center mb-2">
          <h3 id="micLabel" class="text-xl font-bold text-white">à¹ à¸•à¸°à¹€à¸žà¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡à¸žà¸¹à¸”</h3>
          <p id="statusText" class="text-slate-400 text-sm">à¸£à¸°à¸šà¸šà¸žà¸£à¹‰à¸­à¸¡à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸›à¸±à¸ à¸«à¸²à¸‚à¸­à¸‡à¸„à¸¸à¸“</p>
        </div>
        <div class="w-full bg-black/20 rounded-2xl p-4 border border-white/5 relative group">
          <textarea id="result" class="w-full h-24 lg:h-32 bg-transparent text-slate-200 resize-none focus:outline-none custom-scroll placeholder-slate-600 text-sm md:text-base" placeholder="à¸žà¸¹à¸”à¸«à¸£à¸·à¸­à¸žà¸´à¸¡à¸žà¹Œà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡..."></textarea>
          <button onclick="clearText()" class="absolute bottom-2 right-4 text-xs text-slate-500 hover:text-red-400 p-1">
            <i class="fa-solid fa-trash"></i> à¸¥à¹‰à¸²à¸‡
          </button>
        </div>
        <button id="analyzeBtn" disabled class="w-full py-3.5 bg-slate-700 text-slate-400 rounded-xl font-bold text-base md:text-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-emerald-600 hover:text-white hover:shadow-[0_0_20px_rgba(16,185,129,0.4)] mt-2">
          <i class="fa-solid fa-bolt"></i> <span class="hidden md:inline">à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥ (Analyze)</span><span class="md:hidden">à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥</span>
        </button>
      </div>
    </div>
    <div class="order-2 lg:col-span-7 glass-card p-5 lg:p-6 flex flex-col relative overflow-hidden h-full">
      <div class="flex items-center justify-between pb-4 border-b border-white/10 mb-4 shrink-0">
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-tr from-slate-700 to-slate-600 border-2 border-slate-500 flex items-center justify-center shrink-0">
            <i class="fa-solid fa-user text-xl md:text-3xl text-slate-300"></i>
          </div>
          <div class="overflow-hidden">
            <h2 id="displayName" class="text-lg md:text-2xl font-bold text-white truncate">...</h2>
            <div class="flex flex-wrap gap-2 text-xs md:text-sm text-slate-400 mt-1">
              <span id="displayClass" class="bg-white/10 px-2 py-0.5 rounded whitespace-nowrap">à¸Šà¸±à¹‰à¸™: -</span>
              <span id="displayID" class="bg-white/10 px-2 py-0.5 rounded whitespace-nowrap">à¸£à¸«à¸±à¸ª: -</span>
            </div>
          </div>
        </div>
        <div class="text-right shrink-0 ml-2">
          <div class="text-fuchsia-400 font-bold uppercase tracking-widest text-[10px] 
            
